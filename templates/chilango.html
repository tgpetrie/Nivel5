{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2 style="color: #ffffff; margin-bottom: 20px; text-align: center; font-weight: 600;">
        üåÆ Gu√≠a de Slang Chilango
    </h2>
    
    <div style="text-align: center; margin-bottom: 30px;">
        <p style="font-size: 1.2em; color: #e0e0e0; margin-bottom: 20px; font-weight: 300;">
            Aprende las expresiones aut√©nticas del espa√±ol mexicano de la Ciudad de M√©xico.
        </p>
    </div>

    <!-- Expresiones B√°sicas -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üó£Ô∏è Expresiones B√°sicas</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">¬°√ìrale!</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬°Wow! / ¬°Vaya! - Expresi√≥n de sorpresa o asombro
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">¬°Qu√© padre!</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬°Qu√© genial! / ¬°Qu√© bueno! - Algo est√° muy bien
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">¬°No manches!</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬°No puede ser! - Expresi√≥n de incredulidad
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">¬øQu√© onda?</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬øQu√© pasa? / ¬øC√≥mo est√°s? - Saludo informal
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Est√° padr√≠simo</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Est√° incre√≠ble / fant√°stico - Algo muy bueno
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">¬°H√≠jole!</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬°Ay, no! - Expresi√≥n de preocupaci√≥n o problema
                </p>
            </div>
        </div>
    </div>

    <!-- Palabras Comunes -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üí¨ Palabras Comunes</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">G√ºey / Wey</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Amigo, tipo - Muy com√∫n entre j√≥venes
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Chido</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Genial, cool, bueno
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Fresa</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Persona de clase alta, snob
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Naco</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Vulgar, de mal gusto
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Gacho</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Malo, feo, desagradable
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Padrote</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Incre√≠ble, fant√°stico
                </p>
            </div>
        </div>
    </div>

    <!-- Comida Chilanga -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üåÆ Comida Chilanga</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Quesadilla sin queso</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Solo en CDMX: tortilla doblada con guisado
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Guajolota</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Torta de tamal - desayuno t√≠pico chilango
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Tlayuda</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Tortilla grande tostada con frijoles
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Michelada</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Cerveza con lim√≥n, sal y chile
                </p>
            </div>
        </div>
    </div>

    <!-- Lugares Ic√≥nicos -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üèõÔ∏è Lugares Ic√≥nicos de CDMX</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">El Z√≥calo</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Plaza principal de la Ciudad de M√©xico
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Xochimilco</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Trajineras y canales - patrimonio cultural
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">La Condesa</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Colonia trendy con caf√©s y vida nocturna
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Polanco</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Zona exclusiva, restaurantes y museos
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Coyoac√°n</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Barrio bohemio, casa de Frida Kahlo
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Tepito</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Mercado famoso, "barrio bravo"
                </p>
            </div>
        </div>
    </div>

    <!-- Transporte -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üöá Transporte Chilango</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Metro</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Sistema de transporte subterr√°neo
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Pesero</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Microb√∫s verde - transporte p√∫blico
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Metrob√∫s</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Autob√∫s r√°pido en carriles exclusivos
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Ecobici</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Sistema de bicicletas compartidas
                </p>
            </div>
        </div>
    </div>

    <!-- Nombres T√≠picos -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üë• Nombres T√≠picos Mexicanos</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Lupita</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Guadalupe
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Paco</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Francisco
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Chuy</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Jes√∫s
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Gaby</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Gabriela
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">Memo</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Guillermo
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">To√±o</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Diminutivo de Antonio
                </p>
            </div>
        </div>
    </div>

    <!-- Frases T√≠picas -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üí≠ Frases T√≠picas Chilangas</h3>
        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">"¬øYa merito llegamos?"</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬øYa casi llegamos? - Pregunta t√≠pica en el tr√°fico de CDMX
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">"Est√° del nabo"</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Est√° muy mal, terrible
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">"¬°Aguas!"</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    ¬°Cuidado! - Advertencia de peligro
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                <strong style="color: #ffffff;">"Ni modo"</strong>
                <p style="color: #e0e0e0; margin: 5px 0 0 0; font-size: 0.9em;">
                    Qu√© se le va a hacer, resignaci√≥n t√≠pica mexicana
                </p>
            </div>
        </div>
    </div>

    <!-- Ejercicios de Transformaci√≥n -->
    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ce1126; margin-bottom: 15px; font-weight: 500;">üìù Ejercicios de Transformaci√≥n</h3>
        <p style="color: #e0e0e0; text-align: center; margin-bottom: 20px; font-size: 0.95em;">
            Practique las transformaciones seg√∫n el modelo. Cada ejercicio muestra la pregunta original y la respuesta modelo:
        </p>
        
        <div class="transformation-exercise">
            <div class="exercise-item">
                <span class="exercise-number">1.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Biden: ¬´No visitar√© el Z√≥calo el lunes¬ª. ‚Üí Transforma a discurso indirecto:</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Biden dijo que no <strong>visitar√≠a</strong> el Z√≥calo el lunes.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Biden dijo que no visitar√≠a el Z√≥calo el lunes">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">2.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Ya hab√≠an inaugurado el Tren Maya. ‚Üí Transforma usando "todav√≠a no":</p>
                    <p class="exercise-model"><strong>Modelo:</strong> <strong>Todav√≠a no hab√≠an inaugurado</strong> el Tren Maya.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Todav√≠a no hab√≠an inaugurado el Tren Maya">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">3.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Si China reduce tarifas, M√©xico exportar√° m√°s aguacate. ‚Üí Transforma a condicional irreal:</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Si China <strong>redujera</strong> tarifas, M√©xico <strong>exportar√≠a</strong> m√°s aguacate.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Si China redujera tarifas, M√©xico exportar√≠a m√°s aguacate">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">4.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Rodrigo es una persona. Yo conf√≠o en la persona. ‚Üí Combina con pronombre relativo:</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Rodrigo es una persona <strong>en la que conf√≠o</strong>.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Rodrigo es una persona en la que conf√≠o">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">5.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Es importante asistir a la junta. ‚Üí Transforma con sujeto expl√≠cito:</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Es importante que maestros y alumnos <strong>asistan</strong> a la junta.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Es importante que maestros y alumnos asistan a la junta">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">6.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> El ruido de vivir aqu√≠ es malo. ‚Üí Transforma usando "lo + adjetivo + de":</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Lo malo de vivir aqu√≠ es el ruido.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Lo malo de vivir aqu√≠ es el ruido">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">7.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction"><strong>Pregunta:</strong> Cuando termines la tarea, salimos. ‚Üí Transforma a tiempo pasado habitual:</p>
                    <p class="exercise-model"><strong>Modelo:</strong> Cuando <strong>terminabas</strong> la tarea, <strong>sal√≠amos</strong>.</p>
                    <input type="text" class="exercise-input" placeholder="Escribe tu respuesta aqu√≠..." data-answer="Cuando terminabas la tarea, sal√≠amos">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">8.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction">Para 2027, el proyecto habr√° concluido. ‚Üí Cambia antefuturo a pluscuamperfecto:</p>
                    <input type="text" class="exercise-input" placeholder="Para 2027..." data-answer="Para 2027, el proyecto ya hab√≠a concluido">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">9.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction">Si hubieras ido, lo habr√≠as visto. ‚Üí Transforma a condicional real:</p>
                    <input type="text" class="exercise-input" placeholder="Si..." data-answer="Si vas, lo ver√°s">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">10.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction">Quer√≠a que sus alumnos estudiaran m√°s. ‚Üí Transforma a presente:</p>
                    <input type="text" class="exercise-input" placeholder="Quiere que..." data-answer="Quiere que sus alumnos estudien m√°s">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">11.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction">A m√≠ me encanta que vengas. ‚Üí Transforma usando pret√©rito imperfecto de subjuntivo:</p>
                    <input type="text" class="exercise-input" placeholder="A m√≠ me encantaba..." data-answer="A m√≠ me encantaba que vinieras">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
            
            <div class="exercise-item">
                <span class="exercise-number">12.</span>
                <div class="exercise-content">
                    <p class="exercise-instruction">Uso una app. La app corrige mi acento. ‚Üí Combina con relativa explicativa:</p>
                    <input type="text" class="exercise-input" placeholder="La app..." data-answer="La app, que corrige mi acento, la uso diario">
                    <div class="exercise-feedback"></div>
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 25px;">
            <button id="checkAllAnswers" style="background: linear-gradient(135deg, #ce1126, #006847); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 1.1em; cursor: pointer; transition: all 0.3s ease; margin-right: 15px;">
                ‚úÖ Verificar Todas las Respuestas
            </button>
            <button id="resetAnswers" style="background: linear-gradient(135deg, #666, #999); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 1.1em; cursor: pointer; transition: all 0.3s ease;">
                üîÑ Reiniciar
            </button>
            <div id="scoreDisplay" style="margin-top: 15px; color: #ffffff; font-size: 1.2em; font-weight: bold;"></div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <a href="/" class="btn" style="font-size: 1.1em; padding: 15px 30px; background: linear-gradient(135deg, #ce1126, #006847); border: none; color: white; text-decoration: none; border-radius: 50px; display: inline-block; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(206, 17, 38, 0.4);">
            üè† Regresar al Inicio
        </a>
    </div>
</div>

<script>
function normalizeText(text) {
    return text.toLowerCase()
        .replace(/[√°√†√§√¢]/g, 'a')
        .replace(/[√©√®√´√™]/g, 'e')
        .replace(/[√≠√¨√Ø√Æ]/g, 'i')
        .replace(/[√≥√≤√∂√¥]/g, 'o')
        .replace(/[√∫√π√º√ª]/g, 'u')
        .replace(/√±/g, 'n')
        .replace(/\s+/g, ' ')
        .trim();
}

function checkAnswer(input) {
    const userAnswer = input.value.trim();
    const correctAnswer = input.getAttribute('data-answer');
    const feedback = input.parentNode.querySelector('.exercise-feedback');
    
    if (normalizeText(userAnswer) === normalizeText(correctAnswer)) {
        feedback.innerHTML = '<span style="color: #00d084;">‚úÖ ¬°Correcto!</span>';
        input.style.borderColor = '#00d084';
        return true;
    } else if (userAnswer.length > 0) {
        feedback.innerHTML = `<span style="color: #ce1126;">‚ùå Incorrecto. Respuesta correcta: "${correctAnswer}"</span>`;
        input.style.borderColor = '#ce1126';
        return false;
    } else {
        feedback.innerHTML = '';
        input.style.borderColor = '#555';
        return false;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('.exercise-input');
    
    inputs.forEach(input => {
        input.addEventListener('blur', function() {
            checkAnswer(this);
        });
        
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer(this);
            }
        });
    });
    
    document.getElementById('checkAllAnswers').addEventListener('click', function() {
        let correct = 0;
        let total = inputs.length;
        
        inputs.forEach(input => {
            if (checkAnswer(input)) {
                correct++;
            }
        });
        
        const percentage = Math.round((correct / total) * 100);
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.innerHTML = `Puntuaci√≥n: ${correct}/${total} (${percentage}%)`;
        
        if (percentage >= 80) {
            scoreDisplay.style.color = '#00d084';
        } else if (percentage >= 60) {
            scoreDisplay.style.color = '#ffa500';
        } else {
            scoreDisplay.style.color = '#ce1126';
        }
    });
    
    document.getElementById('resetAnswers').addEventListener('click', function() {
        inputs.forEach(input => {
            input.value = '';
            input.style.borderColor = '#555';
            const feedback = input.parentNode.querySelector('.exercise-feedback');
            feedback.innerHTML = '';
        });
        document.getElementById('scoreDisplay').innerHTML = '';
    });
});
</script>

<style>
.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(206, 17, 38, 0.6), 0 0 25px rgba(0, 104, 71, 0.4);
}

.transformation-exercise {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.exercise-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 20px;
    padding: 18px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.exercise-item:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
}

.exercise-number {
    color: #ce1126;
    font-weight: bold;
    font-size: 1.2em;
    margin-right: 15px;
    min-width: 25px;
    text-shadow: 0 0 8px rgba(206, 17, 38, 0.6);
}

.exercise-content {
    flex: 1;
}

.exercise-instruction {
    color: #e0e0e0;
    margin-bottom: 12px;
    font-size: 0.95em;
    line-height: 1.4;
}

.exercise-input {
    width: 100%;
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid #555;
    border-radius: 8px;
    color: #ffffff;
    font-size: 1em;
    transition: all 0.3s ease;
}

.exercise-input:focus {
    outline: none;
    border-color: #ce1126;
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 10px rgba(206, 17, 38, 0.3);
}

.exercise-input::placeholder {
    color: #888;
}

.exercise-feedback {
    margin-top: 8px;
    font-size: 0.9em;
    min-height: 20px;
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(206, 17, 38, 0.4);
}
</style>
{% endblock %}
