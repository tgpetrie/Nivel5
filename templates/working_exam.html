{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2 style="color: #ffffff; margin-bottom: 20px; text-align: center; font-weight: 600;">
        üéØ Examen Funcional - UNAM Nivel 5
    </h2>
    
    <div style="text-align: center; margin-bottom: 30px;">
        <p style="font-size: 1.2em; color: #e0e0e0; margin-bottom: 20px; font-weight: 300;">
            Versi√≥n interactiva completa del examen final
        </p>
    </div>

    <div style="background: rgba(0, 0, 0, 0.3); padding: 30px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h3 style="color: #ffffff; margin-bottom: 20px; text-align: center;">Estructura del Examen</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <div style="background: rgba(206, 17, 38, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(206, 17, 38, 0.3);">
                <h4 style="color: #ce1126; margin-bottom: 10px;">I. Gram√°tica Objetiva</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">30 reactivos ‚Ä¢ 25 puntos</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Evaluaci√≥n autom√°tica</p>
            </div>
            
            <div style="background: rgba(0, 104, 71, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 104, 71, 0.3);">
                <h4 style="color: #006847; margin-bottom: 10px;">II. Transformaciones</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">12 reactivos ‚Ä¢ 15 puntos</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Evaluaci√≥n autom√°tica</p>
            </div>
            
            <div style="background: rgba(206, 17, 38, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(206, 17, 38, 0.3);">
                <h4 style="color: #ce1126; margin-bottom: 10px;">III. Comprensi√≥n Lectora</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">10 preguntas</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Respuesta libre</p>
            </div>
            
            <div style="background: rgba(0, 104, 71, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 104, 71, 0.3);">
                <h4 style="color: #006847; margin-bottom: 10px;">IV. Producci√≥n Escrita</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">130-150 palabras</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Respuesta libre</p>
            </div>
            
            <div style="background: rgba(206, 17, 38, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(206, 17, 38, 0.3);">
                <h4 style="color: #ce1126; margin-bottom: 10px;">V. Comprensi√≥n Auditiva</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">5 preguntas</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Audio del profesor</p>
            </div>
            
            <div style="background: rgba(0, 104, 71, 0.1); padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 104, 71, 0.3);">
                <h4 style="color: #006847; margin-bottom: 10px;">VI. Situaciones</h4>
                <p style="color: #e0e0e0; font-size: 0.9em;">6 situaciones</p>
                <p style="color: #b0b0b0; font-size: 0.8em;">Respuestas comunicativas</p>
            </div>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h4 style="color: #ffffff; margin-bottom: 15px; text-align: center;">üìã Instrucciones</h4>
            <ul style="color: #e0e0e0; text-align: left; max-width: 600px; margin: 0 auto;">
                <li style="margin: 10px 0;">Las secciones I y II se califican autom√°ticamente</li>
                <li style="margin: 10px 0;">Las respuestas abiertas se guardan en archivo JSON</li>
                <li style="margin: 10px 0;">El examen simula la estructura oficial UNAM</li>
                <li style="margin: 10px 0;">Incluye vocabulario mexicano aut√©ntico</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button onclick="startWorkingExam()" class="btn" style="font-size: 1.3em; padding: 18px 40px; background: linear-gradient(135deg, #ce1126, #006847); border: none; color: white; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(206, 17, 38, 0.4);">
                üöÄ Comenzar Examen Funcional
            </button>
        </div>
    </div>
</div>

<div id="examContainer" style="display: none;">
    <div class="card">
        <div id="examContent">
            <!-- Exam content will be loaded here -->
        </div>
    </div>
</div>

<script>
let currentSection = 1;
let currentQuestion = 1;
let examData = {};
let userAnswers = {};

// Section I questions
const sectionI = [
    {prompt: "He ___ (leer) tres art√≠culos esta semana.", answer: "le√≠do", type: "fill"},
    {prompt: "Ricardo ___ (aumentar) mucho de peso √∫ltimamente.", answer: "ha aumentado", type: "fill"},
    {prompt: "Ya ___ (cerrar‚Äëellos) la biblioteca cuando llegamos.", answer: "hab√≠an cerrado", type: "fill"},
    {prompt: "Lo interesante ___ esta propuesta es su viabilidad.", options: {a: 'de', b: 'en', c: 'por', d: 'sobre'}, answer: 'a', type: "choice"},
    {prompt: "No veo que los pol√≠ticos ___ algo para cambiar las cosas.", answer: "hagan", type: "fill"},
    {prompt: "Dudo que Roberto ___ temprano.", options: {a: 'llegue', b: 'llega', c: 'lleg√≥'}, answer: 'a', type: "choice"},
    {prompt: "Fernando quer√≠a que su hija ___ (estudiar) Derecho.", answer: "estudiara", type: "fill"},
    {prompt: "Es importante que maestros y alumnos ___ a la junta.", answer: "asistan", type: "fill"},
    {prompt: "Valeria me dijo que no ___ a venir a clase.", answer: "iba", type: "fill"},
    {prompt: "Te suger√≠ que ___ (comprar) un coche.", answer: "compraras", type: "fill"},
    {prompt: "A Alicia le gustaba que su abuela ___ (hacer) pozole rojo.", answer: "hiciera", type: "fill"},
    {prompt: "Miguel es un empresario ___ trabaja en tecnolog√≠a.", answer: "que", type: "fill"},
    {prompt: "El Dr. Robles, ___ trabaja en gen√©tica, dar√° conferencia.", answer: "quien", type: "fill"},
    {prompt: "Andrea es una persona ___ conf√≠o.", answer: "en quien", type: "fill"},
    {prompt: "Av√≠same tan pronto como ___ (estar‚Äët√∫) listo.", answer: "est√©s", type: "fill"},
    {prompt: "Para 2030, la universidad ya ___ (implementar) el programa.", answer: "habr√° implementado", type: "fill"},
    {prompt: "Si tengo tiempo, ___ (tomar‚Äëyo) clases de franc√©s.", answer: "tomar√©", type: "fill"},
    {prompt: "Si tuviera dinero, ___ (viajar‚Äëyo) a Jap√≥n.", answer: "viajar√≠a", type: "fill"},
    {prompt: "Si hubieras estudiado medicina, ___ (ser‚Äët√∫) doctora.", answer: "ser√≠as", type: "fill"},
    {prompt: "He ___ (abrir) la cuenta de correo dos veces hoy.", answer: "abierto", type: "fill"}
];

// Section II transformations
const sectionII = [
    {prompt: "Biden: ¬´No visitar√© el Z√≥calo el lunes¬ª. ‚Üí", answer: "Biden dijo que no visitar√≠a el Z√≥calo el lunes."},
    {prompt: "Ya hab√≠an inaugurado el Tren Maya. (usar todav√≠a no)", answer: "Todav√≠a no hab√≠an inaugurado el Tren Maya."},
    {prompt: "Si China reduce tarifas, M√©xico exportar√° m√°s aguacate. (irreal)", answer: "Si China redujera tarifas, M√©xico exportar√≠a m√°s aguacate."},
    {prompt: "Rodrigo es una persona. Yo conf√≠o en la persona. (relativo)", answer: "Rodrigo es una persona en la que conf√≠o."},
    {prompt: "Es importante asistir a la junta. (sujeto expl√≠cito)", answer: "Es importante que maestros y alumnos asistan a la junta."},
    {prompt: "Lo malo de vivir aqu√≠ es el ruido. (transformar a lo + adj + de)", answer: "Lo malo de vivir aqu√≠ es el ruido."},
    {prompt: "Cuando termines la tarea, salimos. (pasado habitual)", answer: "Cuando terminabas la tarea, sal√≠amos."},
    {prompt: "Para 2027, el proyecto habr√° concluido. (antefuturo ‚Üí pluscuamperfecto pasado)", answer: "Para 2027, el proyecto ya hab√≠a concluido."},
    {prompt: "Si hubieras ido, lo habr√≠as visto. (real)", answer: "Si vas, lo ver√°s."},
    {prompt: "Quer√≠a que sus alumnos estudiaran m√°s. (presente)", answer: "Quiere que sus alumnos estudien m√°s."},
    {prompt: "A m√≠ me encanta que vengas. (pret√©rito imperf. subj.)", answer: "A m√≠ me encantaba que vinieras."},
    {prompt: "Uso una app. La app corrige mi acento. (relativa explicativa)", answer: "La app, que corrige mi acento, la uso diario."}
];

function startWorkingExam() {
    document.querySelector('.card').style.display = 'none';
    document.getElementById('examContainer').style.display = 'block';
    showSection1();
}

function showSection1() {
    currentSection = 1;
    currentQuestion = 1;
    let html = `
        <h2 style="color: #ffffff; text-align: center; margin-bottom: 30px;">
            üìù Secci√≥n I: Gram√°tica Objetiva (25 pts)
        </h2>
        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px;">
            <p style="color: #e0e0e0; text-align: center; margin-bottom: 20px;">
                Completa los espacios o selecciona la opci√≥n correcta
            </p>
            <div id="section1Questions"></div>
            <div style="text-align: center; margin-top: 30px;">
                <button onclick="checkSection1()" class="btn" style="background: linear-gradient(135deg, #ce1126, #006847); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer;">
                    Verificar Respuestas
                </button>
            </div>
        </div>
    `;
    
    document.getElementById('examContent').innerHTML = html;
    renderSection1Questions();
}

function renderSection1Questions() {
    let html = '';
    sectionI.forEach((q, idx) => {
        html += `<div style="margin: 20px 0; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">`;
        html += `<p style="color: #ffffff; margin-bottom: 10px;"><strong>${idx + 1}.</strong> ${q.prompt}</p>`;
        
        if (q.type === 'choice') {
            Object.keys(q.options).forEach(key => {
                html += `<label style="display: block; color: #e0e0e0; margin: 5px 0; cursor: pointer;">
                    <input type="radio" name="q${idx}" value="${key}" style="margin-right: 8px;"> 
                    ${key}) ${q.options[key]}
                </label>`;
            });
        } else {
            html += `<input type="text" id="q${idx}" placeholder="Escribe tu respuesta" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000;">`;
        }
        html += `</div>`;
    });
    
    document.getElementById('section1Questions').innerHTML = html;
}

function checkSection1() {
    let score = 0;
    let html = '';
    
    sectionI.forEach((q, idx) => {
        const isCorrect = checkAnswer(idx, q);
        if (isCorrect) score++;
        
        html += `<div style="margin: 20px 0; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border-left: 4px solid ${isCorrect ? '#4CAF50' : '#f44336'};">`;
        html += `<p style="color: #ffffff; margin-bottom: 10px;"><strong>${idx + 1}.</strong> ${q.prompt}</p>`;
        html += `<p style="color: ${isCorrect ? '#4CAF50' : '#f44336'}; margin: 5px 0;">
            ${isCorrect ? '‚úÖ Correcto' : `‚ùå Respuesta correcta: ${q.answer}`}
        </p>`;
        html += `</div>`;
    });
    
    html += `
        <div style="background: rgba(0, 0, 0, 0.5); padding: 20px; border-radius: 10px; text-align: center; margin-top: 30px;">
            <h3 style="color: #ffffff; margin-bottom: 15px;">Puntuaci√≥n Secci√≥n I</h3>
            <p style="color: #e0e0e0; font-size: 1.2em;">${score}/${sectionI.length} respuestas correctas</p>
            <button onclick="showSection2()" class="btn" style="background: linear-gradient(135deg, #006847, #ce1126); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer; margin-top: 15px;">
                Continuar a Secci√≥n II
            </button>
        </div>
    `;
    
    document.getElementById('section1Questions').innerHTML = html;
}

function checkAnswer(idx, question) {
    if (question.type === 'choice') {
        const selected = document.querySelector(`input[name="q${idx}"]:checked`);
        return selected && selected.value === question.answer;
    } else {
        const userAnswer = document.getElementById(`q${idx}`).value.trim();
        return normalizeAnswer(userAnswer) === normalizeAnswer(question.answer);
    }
}

function normalizeAnswer(answer) {
    return answer.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();
}

function showSection2() {
    let html = `
        <h2 style="color: #ffffff; text-align: center; margin-bottom: 30px;">
            üîÑ Secci√≥n II: Transformaciones (15 pts)
        </h2>
        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px;">
            <p style="color: #e0e0e0; text-align: center; margin-bottom: 20px;">
                Reescribe o transforma seg√∫n se indica
            </p>
            <div id="section2Questions"></div>
            <div style="text-align: center; margin-top: 30px;">
                <button onclick="checkSection2()" class="btn" style="background: linear-gradient(135deg, #ce1126, #006847); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer;">
                    Verificar Transformaciones
                </button>
            </div>
        </div>
    `;
    
    document.getElementById('examContent').innerHTML = html;
    renderSection2Questions();
}

function renderSection2Questions() {
    let html = '';
    sectionII.forEach((q, idx) => {
        html += `<div style="margin: 20px 0; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">`;
        html += `<p style="color: #ffffff; margin-bottom: 10px;"><strong>${idx + 1}.</strong> ${q.prompt}</p>`;
        html += `<textarea id="trans${idx}" placeholder="Escribe la transformaci√≥n" style="width: 100%; height: 60px; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000; resize: vertical;"></textarea>`;
        html += `</div>`;
    });
    
    document.getElementById('section2Questions').innerHTML = html;
}

function checkSection2() {
    let score = 0;
    let html = '';
    
    sectionII.forEach((q, idx) => {
        const userAnswer = document.getElementById(`trans${idx}`).value.trim();
        const isCorrect = normalizeAnswer(userAnswer) === normalizeAnswer(q.answer);
        if (isCorrect) score++;
        
        html += `<div style="margin: 20px 0; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border-left: 4px solid ${isCorrect ? '#4CAF50' : '#f44336'};">`;
        html += `<p style="color: #ffffff; margin-bottom: 10px;"><strong>${idx + 1}.</strong> ${q.prompt}</p>`;
        html += `<p style="color: #e0e0e0; margin: 5px 0;"><strong>Tu respuesta:</strong> ${userAnswer}</p>`;
        html += `<p style="color: ${isCorrect ? '#4CAF50' : '#f44336'}; margin: 5px 0;">
            ${isCorrect ? '‚úÖ Correcto' : `‚ùå Respuesta modelo: ${q.answer}`}
        </p>`;
        html += `</div>`;
    });
    
    html += `
        <div style="background: rgba(0, 0, 0, 0.5); padding: 20px; border-radius: 10px; text-align: center; margin-top: 30px;">
            <h3 style="color: #ffffff; margin-bottom: 15px;">Puntuaci√≥n Secci√≥n II</h3>
            <p style="color: #e0e0e0; font-size: 1.2em;">${score}/${sectionII.length} transformaciones correctas</p>
            <button onclick="showOpenSections()" class="btn" style="background: linear-gradient(135deg, #006847, #ce1126); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer; margin-top: 15px;">
                Continuar a Secciones Abiertas
            </button>
        </div>
    `;
    
    document.getElementById('section2Questions').innerHTML = html;
}

function showOpenSections() {
    let html = `
        <h2 style="color: #ffffff; text-align: center; margin-bottom: 30px;">
            üìñ Secciones III-VI: Respuestas Abiertas
        </h2>
        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px;">
            
            <!-- Section III -->
            <div style="margin-bottom: 30px; padding: 20px; background: rgba(206, 17, 38, 0.1); border-radius: 8px;">
                <h3 style="color: #ce1126; margin-bottom: 15px;">III. Comprensi√≥n Lectora</h3>
                <p style="color: #e0e0e0; margin-bottom: 15px;">Lee el texto en tu cuadernillo y responde las preguntas:</p>
                <div id="readingQuestions"></div>
            </div>
            
            <!-- Section IV -->
            <div style="margin-bottom: 30px; padding: 20px; background: rgba(0, 104, 71, 0.1); border-radius: 8px;">
                <h3 style="color: #006847; margin-bottom: 15px;">IV. Producci√≥n Escrita</h3>
                <p style="color: #e0e0e0; margin-bottom: 15px;">Redacta un texto de 130-150 palabras:</p>
                <textarea id="essay" placeholder="Escribe tu texto aqu√≠..." style="width: 100%; height: 120px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000; resize: vertical;"></textarea>
            </div>
            
            <!-- Section V -->
            <div style="margin-bottom: 30px; padding: 20px; background: rgba(206, 17, 38, 0.1); border-radius: 8px;">
                <h3 style="color: #ce1126; margin-bottom: 15px;">V. Comprensi√≥n Auditiva</h3>
                <p style="color: #e0e0e0; margin-bottom: 15px;">Escucha el audio y responde:</p>
                <div id="audioQuestions"></div>
            </div>
            
            <!-- Section VI -->
            <div style="margin-bottom: 30px; padding: 20px; background: rgba(0, 104, 71, 0.1); border-radius: 8px;">
                <h3 style="color: #006847; margin-bottom: 15px;">VI. Situaciones Comunicativas</h3>
                <div id="situationalQuestions"></div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button onclick="finishExam()" class="btn" style="background: linear-gradient(135deg, #ce1126, #006847); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer;">
                    üéâ Finalizar Examen
                </button>
            </div>
        </div>
    `;
    
    document.getElementById('examContent').innerHTML = html;
    renderOpenQuestions();
}

function renderOpenQuestions() {
    // Reading questions
    let readingHtml = '';
    for (let i = 1; i <= 10; i++) {
        readingHtml += `<div style="margin: 10px 0;">
            <label style="color: #e0e0e0; display: block; margin-bottom: 5px;">Pregunta ${i}:</label>
            <input type="text" id="reading${i}" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000;">
        </div>`;
    }
    document.getElementById('readingQuestions').innerHTML = readingHtml;
    
    // Audio questions
    let audioHtml = '';
    for (let i = 1; i <= 5; i++) {
        audioHtml += `<div style="margin: 10px 0;">
            <label style="color: #e0e0e0; display: block; margin-bottom: 5px;">Audio respuesta ${i}:</label>
            <input type="text" id="audio${i}" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000;">
        </div>`;
    }
    document.getElementById('audioQuestions').innerHTML = audioHtml;
    
    // Situational questions
    const situations = [
        "Sugiere a tu amigo gringo que pruebe mezcal",
        "Expresa emoci√≥n (impf subj.) sobre balalaikas",
        "Frase con tan pronto como + subj.",
        "Oraci√≥n con relativo y confiar en",
        "Oraci√≥n especificativa sobre una app",
        "Lo + adj + de sobre tacos"
    ];
    
    let sitHtml = '';
    situations.forEach((situation, idx) => {
        sitHtml += `<div style="margin: 15px 0;">
            <label style="color: #e0e0e0; display: block; margin-bottom: 5px;">${idx + 1}. ${situation}:</label>
            <input type="text" id="situation${idx}" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; background: rgba(255, 255, 255, 0.9); color: #000;">
        </div>`;
    });
    document.getElementById('situationalQuestions').innerHTML = sitHtml;
}

function finishExam() {
    // Collect all open responses
    let openResponses = {};
    
    // Reading responses
    for (let i = 1; i <= 10; i++) {
        openResponses[`III_${i}`] = document.getElementById(`reading${i}`).value;
    }
    
    // Essay
    openResponses['IV_essay'] = document.getElementById('essay').value;
    
    // Audio responses
    for (let i = 1; i <= 5; i++) {
        openResponses[`V_${i}`] = document.getElementById(`audio${i}`).value;
    }
    
    // Situational responses
    for (let i = 0; i < 6; i++) {
        openResponses[`VI_${i + 1}`] = document.getElementById(`situation${i}`).value;
    }
    
    // Show completion message
    let html = `
        <div style="text-align: center; padding: 40px;">
            <h2 style="color: #4CAF50; margin-bottom: 30px;">üéâ ¬°Examen Completado!</h2>
            <div style="background: rgba(0, 0, 0, 0.5); padding: 30px; border-radius: 15px; max-width: 600px; margin: 0 auto;">
                <h3 style="color: #ffffff; margin-bottom: 20px;">Resumen del Examen</h3>
                <p style="color: #e0e0e0; margin: 10px 0;">‚úÖ Secci√≥n I: Gram√°tica Objetiva - Completada</p>
                <p style="color: #e0e0e0; margin: 10px 0;">‚úÖ Secci√≥n II: Transformaciones - Completada</p>
                <p style="color: #e0e0e0; margin: 10px 0;">‚úÖ Secciones III-VI: Respuestas Abiertas - Guardadas</p>
                
                <div style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                    <p style="color: #ffffff; font-weight: bold;">Respuestas abiertas guardadas para revisi√≥n del profesor</p>
                    <p style="color: #b0b0b0; font-size: 0.9em;">Las secciones I y II incluyen retroalimentaci√≥n autom√°tica</p>
                </div>
                
                <button onclick="location.reload()" class="btn" style="background: linear-gradient(135deg, #006847, #ce1126); color: white; padding: 15px 30px; border: none; border-radius: 25px; cursor: pointer; margin-top: 20px;">
                    üîÑ Tomar Examen Nuevamente
                </button>
                
                <a href="/" class="btn" style="background: linear-gradient(135deg, #ce1126, #006847); color: white; padding: 15px 30px; border: none; border-radius: 25px; text-decoration: none; display: inline-block; margin: 20px 10px;">
                    üè† Volver al Inicio
                </a>
            </div>
        </div>
    `;
    
    document.getElementById('examContent').innerHTML = html;
    
    // Log responses to console (in real app, would send to server)
    console.log('Open Responses:', openResponses);
}
</script>

{% endblock %}
